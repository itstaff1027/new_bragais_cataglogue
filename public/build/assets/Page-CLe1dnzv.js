import{a as C,r as x,j as e}from"./app-DbUloIDG.js";import{A as S}from"./AuthenticatedLayout-DLzSDmzJ.js";import{I as o,T as n}from"./TextInput-IVrt1slM.js";import{I as d}from"./InputLabel-DEo4SlK6.js";import{C as I,S as z,H as P,a as U}from"./Categories-C7RcCpja.js";import"./ApplicationLogo-m4BU4G5h.js";import"./Dropdown-DICPorD0.js";import"./transition-Du4Tyscl.js";const O=({colors:h,sizes:u,heel_heights:p,categories:j})=>{const{data:a,setData:r,post:f,errors:i,reset:H}=C({product_name:"",status:"",cost:0,srp:0,colors:[],sizes:[],heel_heights:[],categories:[],description:"",front_image:null,gallery_images:[]}),[c,v]=x.useState(null),[b,g]=x.useState([]),y=s=>{const l=s.target.files[0];l&&(v(URL.createObjectURL(l)),r("front_image",l))},N=s=>{const l=Array.from(s.target.files),t=l.map(m=>URL.createObjectURL(m));g(m=>[...m,...t]),r("gallery_images",[...a.gallery_images,...l])},_=s=>{g(l=>l.filter((t,m)=>m!==s)),r("gallery_images",a.gallery_images.filter((l,t)=>t!==s))},w=s=>{console.log(a),s.preventDefault(),f("/inventory/products")};return e.jsx(S,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Products Management"}),children:e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-md rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Add Product"}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{for:"front_image",value:"Upload Front Image"}),e.jsx("input",{type:"file",id:"front_image",onChange:y,className:"block w-full text-sm text-gray-500 border rounded"}),c&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:c,alt:"Front Preview",className:"w-full h-32 object-cover rounded"})}),e.jsx(o,{message:i.front_image})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{for:"gallery_images",value:"Upload Gallery Images"}),e.jsx("input",{type:"file",id:"gallery_images",multiple:!0,onChange:N,className:"block w-full text-sm text-gray-500 border rounded"}),e.jsx("div",{className:"mt-2 grid grid-cols-4 gap-2",children:b.map((s,l)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s,alt:"Gallery Preview",className:"w-full h-32 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>_(l),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",children:"X"})]},l))}),e.jsx(o,{message:i.gallery_images})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{for:"name",value:"Product Name"}),e.jsx(n,{type:"text",id:"name",name:"name",value:a.product_name,onChange:s=>r("product_name",s.target.value),className:"w-full border px-4 py-2"}),e.jsx(o,{message:i.product_name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{for:"status",value:"Status"}),e.jsx(n,{type:"text",id:"status",name:"status",value:a.status,onChange:s=>r("status",s.target.value),className:"w-full border px-4 py-2"}),e.jsx(o,{message:i.status})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{for:"cost",value:"Cost"}),e.jsx(n,{type:"number",id:"cost",name:"cost",value:a.cost,onChange:s=>r("cost",s.target.value),className:"w-full border px-4 py-2"}),e.jsx(o,{message:i.status})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{for:"srp",value:"SRP"}),e.jsx(n,{type:"number",id:"srp",name:"srp",value:a.srp,onChange:s=>r("srp",s.target.value),className:"w-full border px-4 py-2"}),e.jsx(o,{message:i.srp})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{for:"colors",value:"Colors"}),e.jsx(I.Selection,{handleSelectedColor:(s,l=!1)=>{l?r("colors",a.colors.filter(t=>t.id!==s.id)):a.colors.some(t=>t.id===s.id)||r("colors",[...a.colors,s])},colors:a.colors,availableColors:h}),e.jsx(o,{message:i.colors})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{for:"sizes",value:"Sizes"}),e.jsx(z.Selection,{handleSelectedSizes:(s,l=!1)=>{l?r("sizes",a.sizes.filter(t=>t.id!==s.id)):a.sizes.some(t=>t.id===s.id)||r("sizes",[...a.sizes,s])},sizes:a.sizes,availableSizes:u}),e.jsx(o,{message:i.sizes})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{for:"heel_height",value:"Heel Heights"}),e.jsx(P.Selection,{handleSelectedHeelHeights:(s,l=!1)=>{l?r("heel_heights",a.heel_heights.filter(t=>t.id!==s.id)):a.heel_heights.some(t=>t.id===s.id)||r("heel_heights",[...a.heel_heights,s])},heelHeights:a.heel_heights,availableHeelHeights:p}),e.jsx(o,{message:i.HeelHeights})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{for:"categories",value:"Category"}),e.jsx(U.Selection,{handleSelectedCategories:(s,l=!1)=>{l?r("categories",a.categories.filter(t=>t.id!==s.id)):a.categories.some(t=>t.id===s.id)||r("categories",[...a.categories,s])},categories:a.categories,availableCategories:j}),e.jsx(o,{message:i.categories})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{for:"description",value:"Description"}),e.jsx("textarea",{id:"description",name:"description",value:a.description,onChange:s=>r("description",s.target.value),className:"w-full border px-4 py-2"}),e.jsx(o,{message:i.description})]}),e.jsx("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",onClick:s=>w(s),children:"Save"})]})]})})})})})})};export{O as default};
