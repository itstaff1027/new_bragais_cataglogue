import{r as i,j as e,h as w}from"./app-nCUi-c_z.js";import{A as S}from"./AuthenticatedLayout-4Irr3n9n.js";import"./ApplicationLogo-4k1Ez2-_.js";const q=({product_variants:p,warehouses:c})=>{const[l,o]=i.useState([]),[x,u]=i.useState({}),[n,b]=i.useState(""),m=()=>{o([...l,{id:"",sku:"",quantity:""}])},y=s=>{o(l.filter(r=>r.id!==s))},h=(s,r,t)=>{const a=l.map(d=>d.id===s?{...d,[r]:t}:d);o(a)},g=(s,r,t)=>{const a=l.map((d,f)=>f===s?{...d,sku:r,id:t}:d);o(a),u(d=>({...d,[s]:!1}))},j=s=>{u(r=>({...r,[s]:!r[s]}))},N=s=>{b(s)},v=s=>{s.preventDefault();const r=l.map(t=>({id:t.id,sku:t.sku,quantity:t.quantity,warehouse_id:n}));console.log(r),w.post("/inventory/stocks",{rows:r})};return e.jsx(S,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Products Management"}),children:e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-md rounded-lg",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Product Variants"}),e.jsx("button",{onClick:m,className:"bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600",children:"Add Row"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Select Warehouse:"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded px-4 py-2",value:n,onChange:s=>N(s.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select a warehouse"}),c.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Product SKU"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Quantity"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Warehouse"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2",children:"Actions"})]})}),e.jsx("tbody",{children:l.map((s,r)=>{var t;return e.jsxs("tr",{children:[e.jsxs("td",{className:"border border-gray-300 px-4 py-2 relative",children:[e.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded px-2 py-1",placeholder:"Search SKU",value:s.sku,onFocus:()=>j(r),onChange:a=>h(s.id,"sku",a.target.value)}),x[r]&&e.jsx("ul",{className:"absolute z-10 bg-white border border-gray-300 rounded w-full max-h-40 overflow-y-auto",style:{top:"100%"},children:p.filter(a=>a.sku.toLowerCase().includes(s.sku.toLowerCase())).map(a=>e.jsx("li",{className:"px-4 py-2 hover:bg-gray-200 cursor-pointer",onClick:()=>g(r,a.sku,a.id),children:a.sku},a.id))})]}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded px-2 py-1",placeholder:"Enter Quantity",value:s.quantity,onChange:a=>h(s.id,"quantity",a.target.value)})}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded px-2 py-1 bg-gray-100 cursor-not-allowed",value:((t=c.find(a=>a.id.toString()===n))==null?void 0:t.name)||"",readOnly:!0})}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.jsx("button",{type:"button",onClick:()=>y(s.id),className:"bg-red-500 text-white px-2 py-1 rounded shadow hover:bg-red-600",children:"Remove"})})]},r)})})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded shadow hover:bg-green-600",children:"Submit"})})]})]})})})})})})};export{q as default};
